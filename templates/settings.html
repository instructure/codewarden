$def with (login_form, user)

$if user:
  <h1>Settings</h1>
  $:login_form

  <p>Be sure to keep the following contact information up to date.</p>
  <form method="post">
    <dl>
      <dt>Your name:</dt>
        <dd><input type="text" name="name" value="$user.name"/></dd>
      <dt>Your email:</dt>
        <dd><input type="text" name="email" value="$user.email"/></dd>
    </dl>
    <input type="submit" value="Set"/>
  </form>

$else:
  <h1>Login</h1>
  <p>By using this service, you agree:
  <ul>
    <li>That your code submissions will be examined by the hosts of the
      competition.</li>
  </ul>
  </p>
  $:login_form
